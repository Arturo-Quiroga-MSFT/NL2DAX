NL Query: Show the NPL ratio percentage by region and risk rating impact.
Generated DAX:
Here’s a fully self-contained DAX query that will return the NPL‐Ratio (as a percentage), sliced by “Region” and by “Risk Rating Impact” in your model. We’ll assume “Region” lives in the FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT table under BUSINESS_UNIT, and that you want to calculate NPL‐Ratio yourself as:

    Total NPL Balance USD 
    divided by 
    Total Portfolio Balance USD

and formatted as a percentage.

```DAX
EVALUATE
SUMMARIZECOLUMNS(
    -- Slice by Region
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    -- Slice by Risk Rating Impact
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],

    -- Calculate NPL Ratio %
    "NPL Ratio %",
        DIVIDE(
            SUM( 'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[TOTAL_NPL_BALANCE_USD] ),
            SUM( 'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[TOTAL_PORTFOLIO_BALANCE_USD] ),
            0
        )
)
ORDER BY
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT]
```

Explanation of the key parts:

• SUMMARIZECOLUMNS:  
   – First argument(s) are the grouping columns (Region and Risk Rating Impact).  
   – Last argument(s) are name/expression pairs—in this case “NPL Ratio %” and the DIVIDE() that computes it.

• DIVIDE( Numerator, Denominator, 0 ):  
   – Safely divides Total NPL Balance USD by Total Portfolio Balance USD, returning 0 if the denominator is zero.

• ORDER BY:  
   – Sorts the output by Region and Risk Rating Impact.

If you prefer to rely on the pre‐computed NPL_RATIO_PERCENTAGE column in the same table, you could simplify the expression to:

```DAX
EVALUATE
SUMMARIZECOLUMNS(
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],
    "NPL Ratio %",
      AVERAGE( 'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[NPL_RATIO_PERCENTAGE] )
)
```

Either approach will give you a two-level slice (by region and by risk‐rating-impact) with the NPL ratio formatted as a percentage.
Formatted DAX:
Here’s a fully self-contained DAX query that will return the NPL‐Ratio (as a percentage), sliced by “Region” and by “Risk Rating Impact” in your model. We’ll assume “Region” lives in the FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT table under BUSINESS_UNIT, and that you want to calculate NPL‐Ratio yourself as:

    Total NPL Balance USD 
    divided by 
    Total Portfolio Balance USD

and formatted as a percentage.

```DAX
EVALUATE
SUMMARIZECOLUMNS(
    -- Slice by Region
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    -- Slice by Risk Rating Impact
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],

    -- Calculate NPL Ratio %
    "NPL Ratio %",
        DIVIDE(
            SUM( 'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[TOTAL_NPL_BALANCE_USD] ),
            SUM( 'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[TOTAL_PORTFOLIO_BALANCE_USD] ),
            0
        )
)
ORDER BY
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT]
```

Explanation of the key parts:

• SUMMARIZECOLUMNS:  
   – First argument(s) are the grouping columns (Region and Risk Rating Impact).  
   – Last argument(s) are name/expression pairs—in this case “NPL Ratio %” and the DIVIDE() that computes it.

• DIVIDE( Numerator, Denominator, 0 ):  
   – Safely divides Total NPL Balance USD by Total Portfolio Balance USD, returning 0 if the denominator is zero.

• ORDER BY:  
   – Sorts the output by Region and Risk Rating Impact.

If you prefer to rely on the pre‐computed NPL_RATIO_PERCENTAGE column in the same table, you could simplify the expression to:

```DAX
EVALUATE
SUMMARIZECOLUMNS(
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],
    "NPL Ratio %",
      AVERAGE( 'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[NPL_RATIO_PERCENTAGE] )
)
```

Either approach will give you a two-level slice (by region and by risk‐rating-impact) with the NPL ratio formatted as a percentage.
DAX Syntax Errors:
DAX Formatter API error: HTTP 404 - 
