NL Query: Show the NPL ratio percentage by region and risk rating impact.
Generated DAX:
Here’s a simple DAX‐Studio query that will return the NPL Ratio Percentage grouped by “Region” (we’ll use the table’s BUSINESS_UNIT as your region) and by RISK_RATING_IMPACT.  It computes the average of the %‐ratio in case you have multiple rows per combination:

```
EVALUATE
SUMMARIZECOLUMNS(
    -- group by “Region” (using BUSINESS_UNIT)
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    -- group by Risk Rating Impact
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],

    -- our metric: average NPL Ratio Percentage
    "NPL Ratio %", 
        CALCULATE(
            AVERAGE('FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[NPL_RATIO_PERCENTAGE])
        )
)
ORDER BY
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT]
```

If you prefer to define a measure and then use it in a more “Power BI”–style table, you could do:

```DAX
-- 1) define measure
Avg NPL Ratio % :=
AVERAGE('FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[NPL_RATIO_PERCENTAGE])

-- 2) build the table
EVALUATE
SUMMARIZECOLUMNS(
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],
    "NPL Ratio %", [Avg NPL Ratio %]
)
ORDER BY
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT]
```

Both will give you a two‐column grouping (Region and Risk Rating Impact) with the corresponding NPL ratio percentage.
Formatted DAX:
Here’s a simple DAX‐Studio query that will return the NPL Ratio Percentage grouped by “Region” (we’ll use the table’s BUSINESS_UNIT as your region) and by RISK_RATING_IMPACT.  It computes the average of the %‐ratio in case you have multiple rows per combination:

```
EVALUATE
SUMMARIZECOLUMNS(
    -- group by “Region” (using BUSINESS_UNIT)
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    -- group by Risk Rating Impact
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],

    -- our metric: average NPL Ratio Percentage
    "NPL Ratio %", 
        CALCULATE(
            AVERAGE('FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[NPL_RATIO_PERCENTAGE])
        )
)
ORDER BY
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT]
```

If you prefer to define a measure and then use it in a more “Power BI”–style table, you could do:

```DAX
-- 1) define measure
Avg NPL Ratio % :=
AVERAGE('FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[NPL_RATIO_PERCENTAGE])

-- 2) build the table
EVALUATE
SUMMARIZECOLUMNS(
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT],
    "NPL Ratio %", [Avg NPL Ratio %]
)
ORDER BY
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[BUSINESS_UNIT],
    'FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT'[RISK_RATING_IMPACT]
```

Both will give you a two‐column grouping (Region and Risk Rating Impact) with the corresponding NPL ratio percentage.
Generated SQL:
Here’s one way to pull the latest NPL‐ratio% by “region” (mapped to BUSINESS_UNIT) and RISK_RATING_IMPACT from the FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT table:

```
SELECT
    BUSINESS_UNIT   AS [Region],
    RISK_RATING_IMPACT,
    NPL_RATIO_PERCENTAGE
FROM
    FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT
WHERE
    ANALYSIS_DATE = (
        -- pick only the most recent snapshot
        SELECT MAX(ANALYSIS_DATE)
        FROM FIS_NPL_ANALYSIS_BY_BUSINESS_UNIT
    )
ORDER BY
    BUSINESS_UNIT,
    RISK_RATING_IMPACT;
```
DAX Syntax Errors:
DAX Formatter API error: HTTP 404 - 
Run duration: 87.37 seconds
