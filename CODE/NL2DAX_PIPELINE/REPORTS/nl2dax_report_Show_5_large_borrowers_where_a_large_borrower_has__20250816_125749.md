# üìä NL2DAX Pipeline Execution Report

**Generated:** August 16, 2025 at 12:57:49 PM
**Query:** Show 5 large borrowers where a large borrower has outstanding loans of $1M USD or more.

---

## üìã Executive Summary

| Metric | Value |
|--------|--------|
| **SQL Execution** | ‚ùå Failed |
| **DAX Execution** | ‚ùå Failed |
| **SQL Rows Returned** | 0 |
| **DAX Rows Returned** | 0 |
| **Total Execution Time** | 0.00s |
| **Errors Encountered** | 2 |

## üîç Query Analysis

**Original Query:** `Show 5 large borrowers where a large borrower has outstanding loans of $1M USD or more.`

| Attribute | Value |
|-----------|--------|
| **Character Count** | 87 |
| **Word Count** | 16 |
| **Detected Features** | Filtering Words |

## üß† Intent & Entity Extraction

### Extracted Intent and Entities

```json
{
  "intent": "show_large_borrowers",
  "entities": {
    "limit": 5,
    "table": "FIS_CL_DETAIL_FACT",
    "filter_field": "PRINCIPAL_BALANCE",
    "filter_operator": ">=",
    "filter_value": 1000000,
    "currency": "USD",
    "sort_field": "PRINCIPAL_BALANCE",
    "sort_order": "desc"
  }
}
```

## üöÄ Cache Performance

| Cache Type | Hits | Misses | Hit Rate |
|------------|------|--------|----------|
| **Intent Parsing** | 0 | 0 | N/A% |
| **SQL Generation** | 0 | 0 | N/A% |
| **DAX Generation** | 0 | 0 | N/A% |

## üóÑÔ∏è SQL Generation & Execution

### Generated SQL Query

```sql
SELECT TOP 5
    cl.CL_DETAIL_KEY,
    cl.CUSTOMER_KEY,
    cust.CUSTOMER_NAME,
    cl.LOAN_PRODUCT_KEY,
    cl.PRINCIPAL_BALANCE,
    cl.LOAN_CURRENCY_CODE,
    cl.ORIGINATION_DATE,
    cl.MATURITY_DATE
FROM FIS_CL_DETAIL_FACT AS cl
LEFT JOIN FIS_CUSTOMER_DIMENSION AS cust
    ON cl.CUSTOMER_KEY = cust.CUSTOMER_KEY
WHERE cl.PRINCIPAL_BALANCE >= 1000000
  AND cl.LOAN_CURRENCY_CODE = 'USD'
ORDER BY cl.PRINCIPAL_BALANCE DESC;
```

### SQL Execution Results

‚ùå **Execution Failed** - See error analysis section for details

## ‚ö° DAX Generation & Execution

### Generated DAX Query

```dax
EVALUATE
VAR TopLargeBorrowers =
TOPN(
    5,
    FILTER(
        'FIS_CL_DETAIL_FACT',
        'FIS_CL_DETAIL_FACT'[PRINCIPAL_BALANCE] >= 1000000
        && 'FIS_CL_DETAIL_FACT'[LOAN_CURRENCY_CODE] = "USD"
        ),
    'FIS_CL_DETAIL_FACT'[PRINCIPAL_BALANCE], DESC
    )
RETURN
SELECTCOLUMNS(
    TopLargeBorrowers,
    "CL Detail Key", 'FIS_CL_DETAIL_FACT'[CL_DETAIL_KEY],
    "Customer Name", RELATED('FIS_CUSTOMER_DIMENSION'[CUSTOMER_NAME]),
    "Principal Balance", 'FIS_CL_DETAIL_FACT'[PRINCIPAL_BALANCE],
    "Currency", 'FIS_CL_DETAIL_FACT'[LOAN_CURRENCY_CODE]
    )
```

### DAX Execution Results

‚ùå **Execution Failed** - See error analysis section for details

## ‚è±Ô∏è Performance Metrics

| Operation | Time (seconds) | Percentage |
|-----------|----------------|------------|
| **SQL Generation & Execution** | 0.00s | 0.0% |
| **DAX Generation & Execution** | 0.00s | 0.0% |
| **Total Pipeline Time** | 0.00s | 100% |

## ‚ö†Ô∏è Error Analysis

**Total Errors:** 2

### Error 1

```
SQL Execution Error: ('42S22', "[42S22] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Invalid column name 'ORIGINATION_DATE'. (207) (SQLExecDirectW)")
```

### Error 2

```
DAX Execution Error: DAX over HTTP/XMLA failed. Check PBI_* env vars, XMLA endpoint, dataset name, and permissions. Root error: Power BI Execute Queries API failed with HTTP 400. Error details: {"error":{"code":"DatasetExecuteQueriesError","pbi.error":{"code":"DatasetExecuteQueriesError","parameters":{},"details":[{"code":"DetailsMessage","detail":{"type":1,"value":"Query (16, 30) The column '<oii>FIS_CUSTOMER_DIMENSION</oii>[<oii>CUSTOMER_NAME</oii>]' either doesn't exist or doesn't have a relationship to any table available in the current context."}},{"code":"AnalysisServicesErrorCode","detail":{"type":1,"value":"3241803795"}}]}}}
```

## üí° Recommendations

- Permission issues detected - verify database access credentials
- No results returned from either query - verify query logic and data availability

---

*Report generated by NL2DAX Pipeline v1.0*

*Generated on August 16, 2025 at 12:57:49 PM*